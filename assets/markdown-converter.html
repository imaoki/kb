<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rock+Salt">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/icon.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/normalize.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/theme.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/syntax.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/photoswipe.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/default-skin/default-skin.css">
<script src="https://imaoki.github.io/mxskb/assets/js/smooth-scroll.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/photoswipe.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/photoswipe-ui-default.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/photoswipe-simplify.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/highlight.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/main.min.js"></script>
</head>
<body class="page wrapper">
<header class="page header">
<h1 class="page title"><a class="static" href=""></a></h1>
<ul class="hlist page nav"></ul>
</header>
<main class="page main">
<article class="post wrapper">
<header class="post header">
<h2 class="post title"></h2>
<ul class="hlist right post property">
<li class="item"><time class="icon date updated"></time></li>
</ul>
</header>
<main class="post main">
{{{content}}}
</main>
</article>
</main>
<footer class="page footer">
<ul class="hlist"></ul>
</footer>
</body>
<script>
(function (){
  mxskb.each(document.querySelectorAll("a[for*='toc-anchor']"), function(el, i) {
    el.nextElementSibling.id = el.id;
    el.parentNode.removeChild(el);
  });

  var toc = document.querySelector(".table-of-contents");
  var tocParentP = toc.parentNode;
  var postMain = document.querySelector(".post.main");
  postMain.parentNode.insertBefore(toc, postMain);

  // tocParentP.parentNode.removeChild(tocParentP);

  var pageTitleA = document.querySelector(".page.title > a");
  var firstH1 = document.querySelector(".post.main > h1:first-of-type");
  pageTitleA.textContent = firstH1.textContent;

  firstH1.parentNode.removeChild(firstH1);

  var lastModDate = new Date(document.lastModified);
  var format = "YYYY-MM-dd";
  format = format.replace(/YYYY/, lastModDate.getFullYear());
  format = format.replace(/MM/, ("0" + (lastModDate.getMonth() + 1)).slice(-2));
  format = format.replace(/dd/, ("0" + lastModDate.getDate()).slice(-2));

  var time = document.querySelector(".icon.date.updated");
  time.textContent = format;

  mxskb.each(document.querySelectorAll("p"), function(el, i) {
    if(el.childNodes.length === 0) {
      el.parentNode.removeChild(el);
    }
  });

})();
</script>
</html>
