<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rock+Salt">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/icon.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/normalize.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/theme.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/syntax.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/photoswipe.css">
<link rel="stylesheet" href="https://imaoki.github.io/mxskb/assets/css/default-skin/default-skin.css">
<title>mxsdoc.Context.ms</title>
<script src="https://imaoki.github.io/mxskb/assets/js/smooth-scroll.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/photoswipe.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/photoswipe-ui-default.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/photoswipe-simplify.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/highlight.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/mxskb.min.js"></script>
<script src="https://imaoki.github.io/mxskb/assets/js/init-main.min.js"></script>
</head>
<body class="page wrapper">
<header class="page header">
<h1 class="page title"><a class="static" href="index.html">mxsdoc</a></h1>
<ul class="hlist page nav"></ul>
</header>
<main class="page main">
<article class="post wrapper">
<header class="post header">
<h2 class="post title"><a class="static" href="">Context.ms</a></h2>
<ul class="hlist right post property">
<li class="item"><time class="icon date updated">2022-03-13</time></li>
</ul>
</header>
<div class="table-of-contents"><ul><li><a href="#contextstruct">ContextStruct</a><ul><li><a href="#_cp1_">_CP1_</a></li><li><a href="#cache">cache</a></li><li><a href="#lasterror">lastError</a></li><li><a href="#lineranges">lineRanges</a></li><li><a href="#ss">ss</a></li><li><a href="#eos">EOS</a></li><li><a href="#getlasterror">GetLastError</a></li><li><a href="#getlinenumber">GetLineNumber</a></li><li><a href="#getoffset">GetOffset</a></li><li><a href="#logerror">LogError</a></li><li><a href="#printdebuginfo">PrintDebugInfo</a></li><li><a href="#printerror">PrintError</a></li><li><a href="#read">Read</a></li><li><a href="#readcache">ReadCache</a></li><li><a href="#seek">Seek</a></li><li><a href="#setstream">SetStream</a></li><li><a href="#sos">SOS</a></li><li><a href="#writecache">WriteCache</a></li><li><a href="#getlinetext">getLineText</a></li><li><a href="#initialize">initialize</a></li><li><a href="#setlineranges">setLineRanges</a></li><li><a href="#structname">StructName</a></li><li><a href="#dump">Dump</a></li><li><a href="#equals">Equals</a></li></ul></li></ul></div>
<main class="post main" data-pswp>
<dl><dt>依存</dt><dd><ul>
<li><code>eof</code><ul>
</ul></li>
<li><code><a href="parsercombinator-model-failure.html">FailureStruct</a></code></li>
<li><code>filePos</code><ul>
</ul></li>
<li><code><a href="parsercombinator-definitionpool.html">parserCombinatorDefinitionPool</a></code></li>
<li><code>readChars</code><ul>
</ul></li>
<li><code>seek</code><ul>
</ul></li>
<li><code><a href="standard-standard.html">std</a></code></li>
</ul></dd></dl>
<h3 id="contextstruct">struct&nbsp;ContextStruct</h3>
<p>解析対象の文字列を操作する。</p><dl>
<dt>補足</dt>
<dd><p>改行コードは全て<code>LF</code>に変換される。</p></dd>
</dl>
<h4 id="_cp1_">public&nbsp;_CP1_</h4>
<dl>
<dt>プロパティ</dt>
<dd><code>&lt;String&gt;</code></dd>
<dd><p>作成パラメータ1。解析対象の文字列。</p></dd>
</dl>
<h4 id="cache">private&nbsp;cache</h4>
<dl>
<dt>プロパティ</dt>
<dd><code>&lt;Struct:CacheStruct&gt;</code></dd>
</dl>
<h4 id="lasterror">private&nbsp;lastError</h4>
<dl>
<dt>プロパティ</dt>
<dd><code>&lt;Struct:ErrorStruct&gt;</code></dd>
</dl>
<h4 id="lineranges">private&nbsp;lineRanges</h4>
<dl>
<dt>プロパティ</dt>
<dd><code>&lt;Array[&lt;DataPair&nbsp;Start:&lt;Integer&gt;&nbsp;End:&lt;Integer&gt;&gt;]&gt;</code></dd>
<dd><p>行頭と行末の位置の配列。</p></dd>
</dl>
<h4 id="ss">private&nbsp;ss</h4>
<dl>
<dt>プロパティ</dt>
<dd><code>&lt;StringStream&gt;</code></dd>
</dl>
<h4 id="eos">public&nbsp;fn&nbsp;EOS</h4>
<p>現在の位置がストリームの終端にあるかどうか。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;BooleanClass&gt;</code></dd>
</dl>
<h4 id="getlasterror">public&nbsp;fn&nbsp;GetLastError</h4>
<p>最後に記録されたエラーを取得する。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;Struct:ErrorStruct&gt;</code></dd>
</dl>
<h4 id="getlinenumber">public&nbsp;fn&nbsp;GetLineNumber</h4>
<p>任意の位置の行数を取得する。</p><dl>
<dt>パラメータ</dt>
<dd><code>offset</code></dd>
<dd><code>&lt;Integer&gt;</code></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;Integer&gt;</code></dd>
<dd><p>位置が範囲外の場合は<code>0</code>を返す。</p></dd>
</dl>
<h4 id="getoffset">public&nbsp;fn&nbsp;GetOffset</h4>
<p>現在の位置を取得する。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;Integer&gt;</code></dd>
</dl>
<h4 id="logerror">public&nbsp;fn&nbsp;LogError</h4>
<p>エラーを記録する。</p><dl>
<dt>パラメータ</dt>
<dd><code>errorOffset</code></dd>
<dd><code>&lt;Integer&gt;</code></dd>
<dd><p>エラーが発生した位置。</p></dd>
</dl>
<dl>
<dt>パラメータ</dt>
<dd><code>expected</code></dd>
<dd><code>&lt;String&gt;</code></dd>
<dd><p>期待する文字列。</p></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<h4 id="printdebuginfo">public&nbsp;fn&nbsp;PrintDebugInfo</h4>
<p>デバッグ情報をリスナーに出力する。</p><dl>
<dt>パラメータ</dt>
<dd><code>parserName</code></dd>
<dd><code>&lt;String&gt;</code></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<h4 id="printerror">public&nbsp;fn&nbsp;PrintError</h4>
<p>エラー情報をリスナーに出力する。</p><dl>
<dt>パラメータ</dt>
<dd><code>result</code></dd>
<dd><code>&lt;Any&gt;</code></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<dl>
<dt>補足</dt>
<dd><p>結果が失敗以外の場合は警告として出力する。</p></dd>
</dl>
<h4 id="read">public&nbsp;fn&nbsp;Read</h4>
<p>現在の位置から指定の数の文字を文字列として取得する。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;String&gt;</code></dd>
</dl>
<dl>
<dt>補足</dt>
<dd><p>ストリームの終端を超えてしまう場合は現在の位置から終端までの文字列を返す。<br />
現在の位置がストリームの終端に達している場合は空文字列を返す。</p></dd>
</dl>
<h4 id="readcache">public&nbsp;fn&nbsp;ReadCache</h4>
<p>パース結果をキャッシュから読み取る。</p><dl>
<dt>パラメータ</dt>
<dd><code>parser</code></dd>
<dd><code>&lt;Struct&gt;</code></dd>
<dd><p>メモ化対象のパーサのインスタンス。</p></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;DataPair&nbsp;Hit:&lt;BooleanClass&gt;&nbsp;Cache:&lt;DataPair&nbsp;End:&lt;Integer&gt;&nbsp;Value:&lt;Any&gt;|UndefinedClass&gt;&gt;</code></dd>
<dd><p>キャッシュが存在した場合は<code>Hit</code>が<code>true</code>になる。</p></dd>
</dl>
<h4 id="seek">public&nbsp;fn&nbsp;Seek</h4>
<p>位置を設定する。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;Integer&gt;</code></dd>
<dd><p>設定後の位置。</p></dd>
</dl>
<dl>
<dt>補足</dt>
<dd><p>ストリームの終端を超えてしまう場合は終端に設定される。</p></dd>
</dl>
<h4 id="setstream">public&nbsp;fn&nbsp;SetStream</h4>
<p>解析対象の文字列を設定する。</p><dl>
<dt>パラメータ</dt>
<dd><code>input</code></dd>
<dd><code>&lt;String&gt;</code></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<dl>
<dt>補足</dt>
<dd><p>内部状態が初期化される。</p></dd>
</dl>
<h4 id="sos">public&nbsp;fn&nbsp;SOS</h4>
<p>現在の位置がストリームの先端にあるかどうか。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;BooleanClass&gt;</code></dd>
</dl>
<h4 id="writecache">public&nbsp;fn&nbsp;WriteCache</h4>
<p>パース結果をキャッシュに書き込む。</p><dl>
<dt>パラメータ</dt>
<dd><code>parser</code></dd>
<dd><code>&lt;Struct&gt;</code></dd>
<dd><p>メモ化対象のパーサのインスタンス。</p></dd>
</dl>
<dl>
<dt>パラメータ</dt>
<dd><code>start</code></dd>
<dd><code>&lt;Integer&gt;</code></dd>
<dd><p>開始位置。</p></dd>
</dl>
<dl>
<dt>パラメータ</dt>
<dd><code>end</code></dd>
<dd><code>&lt;Integer&gt;</code></dd>
<dd><p>終了位置。</p></dd>
</dl>
<dl>
<dt>パラメータ</dt>
<dd><code>result</code></dd>
<dd><code>&lt;Any&gt;</code></dd>
<dd><p>メモ化対象のパーサのパース結果。</p></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<h4 id="getlinetext">private&nbsp;fn&nbsp;getLineText</h4>
<p>指定した行の文字列を取得する。</p><dl>
<dt>パラメータ</dt>
<dd><code>lineNumber</code></dd>
<dd><code>&lt;Integer&gt;</code></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;String&gt;</code></dd>
<dd><p>行が範囲外の場合は空文字列を返す。</p></dd>
</dl>
<dl>
<dt>補足</dt>
<dd><p>エスケープシーケンスのエスケープ処理は行わない。</p></dd>
</dl>
<h4 id="initialize">private&nbsp;fn&nbsp;initialize</h4>
<p>内部状態を初期化する。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<h4 id="setlineranges">private&nbsp;fn&nbsp;setLineRanges</h4>
<p>行の範囲を設定する。</p><dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<h4 id="structname">public&nbsp;fn&nbsp;StructName</h4>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;Name&gt;</code></dd>
</dl>
<h4 id="dump">public&nbsp;fn&nbsp;Dump</h4>
<dl>
<dt>パラメータ</dt>
<dd><code>indent:</code></dd>
<dd><code>&lt;String&gt;</code></dd>
</dl>
<dl>
<dt>パラメータ</dt>
<dd><code>out:</code></dd>
<dd><code>&lt;FileStream|StringStream|WindowStream&gt;</code></dd>
<dd><p>出力先。既定値は<code>listener</code>。</p></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;OkClass&gt;</code></dd>
</dl>
<h4 id="equals">public&nbsp;fn&nbsp;Equals</h4>
<dl>
<dt>パラメータ</dt>
<dd><code>obj</code></dd>
<dd><code>&lt;Any&gt;</code></dd>
</dl>
<dl>
<dt>戻り値</dt>
<dd><code>&lt;BooleanClass&gt;</code></dd>
</dl>
<dl>
<dt>補足</dt>
<dd><p>大文字と小文字を区別する。</p></dd>
</dl>
</main>
</article>
</main>
<footer class="page footer">
<ul class="hlist"><li class="item"><p>Generated by DocGenerator</p></li></ul>
</footer>
</body>
</html>
